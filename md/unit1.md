### 第一章 Node 简介

#### 1.1 Node 的诞生历程

    Node的诞生历程如下：
    1. 2009年3月，Ryan Dahl在其博客上宣布准备基于V8创建一个轻量的WEB服务器并提供一套库。
    2. 2009年5月， Ryan Dahl 在GitHub上发布了最初的版本。
    3. 2009年12月和2010年4月，两届JSConf大会都安排了Node的讲座
    4. 2010年年底，Node获得硅谷云计算服务商Joyent公司的资助，其创始人加入Joyent公司全职负责Node的发展
    5. 2011年7月，Node在微软的支持下发布了其Windows版本。
    6. 2011年11月，Node超越Ruby on Rails，成为GitHub上关注度最高的项目（随后被Bootstrap项目超越，目前仍居第二）
    7. 2012年1月底，Ryan Dahl在对Node架构设计满意的情况下，将掌门人的省份交给Isaac Z.Schlueter，自己转向一些研究
       项目。 Isaac Z.Schlueter是Node的包管理器NPM的作者，之后Node的版本发布和bug修复等工作由他接手。
    8. 深入浅出Node.js的作者写该书的时候（2013年7月13日），发布的Node稳定版为v0.10.13,
    9. 随后Node的发布计划集中在性能提升上，在v0.14之后，正式发布出v1.0版本。


#### 1.2.1 为什么是JavaScript

    Ryan Dahl 一名C/C++程序员，在创造出Node之前，他主要工作是围绕高性能Web服务器进行的。经历一些尝试和失败之后，
    它找到设计高性能Web服务器的几个要点：事件驱动、非阻塞I/O.

    考虑到高性能、符合事件驱动、没有历史包袱这3个主要原因，JavaScript成为Node的实现语言。

#### 1.2.2 为什么叫Node

    起初，Ryan Dahl 称他的项目为web.js，就是一个web服务器，但是项目的发展超过了他最初单纯开发一个web服务器的想法，变成
    了构建网络应用的一个基础框架，这样可以在它的基础上构建更多的东西，诸如服务器、客户端、命令行工具等。Node发展为一个强制
    不共享任何资源的单线程、单进程系统。包含十分适宜网络的库，为构建大型分布式应用程序提供基础设施，其目标也是成为一个构建
    快速、可伸缩的网络应用平台。

    Node的结构与Chrome十分相似。它们都是基于事件驱动的异步架构，浏览器通过事件驱动来服务界面上的交互，Node通过事件驱动来
    服务I/O,这个细节将在第三中详述

#### 1.4 Node的特点

    作为后端JavaScript的运行平台，Node保留了前端浏览器JavaScript中那些熟悉的接口，没有改写语言本身的任何特性，依旧基于
    作用域和原型链，区别在于它将前端中广泛运用的思想迁移到服务器端。

#### 1.4.1 异步I/O

    在Node中，绝大多数的操作都以异步的方式进行调用。Ryan Dah1排除万难，在底层构建了很多异步I/O的API,从文件读取到网络请求等，
    均是如此。这样的意义在于，在Node中，我们可以从语言层面很自然地进行并I/O操作。

#### 1.4.2 事件与回调函数

    事件的编程方式具有轻量级、松耦合、只关注事务点等优势，但是在多个异步任务的场景下，事件与事件之间各自独立的，如何协作是一个
    问题,回调函数也是最好的接受异步调用返回数据的方式。但是这种编程方式对于很多习惯同步思路编程的人来说，也许是十分不习惯的。

#### 1.4.3 单线程

    单线程的最大好处是不要像多线程编程那样处处在意状态的同步问题，这里没有死锁的存在，也没有线程上下文交换所带来的性能上的开销。
    单线程的弱点：
        1）无法利用多核CPU
        2）错误会引起整个应用退出，应用的健壮性值得考验
        3）大量计算占用CPU导致无法继续调用异步I/O

    Node采用了与Web Workers相同的思路来解决单线程中大量计算量的问题，子进程。
    子进程的出现，意味着Node可以从容地应对单线程在健壮性和无法利用多核CPU方面的问题。通过将计算分发到各个子进程，可以将大量
    计算分解掉，然后再通过进程之间的事件消息来传递结果，这可以很好地保持应用模型的简单和低依赖。通过Master-Worker的管理方式，
    也可以很好地管理各个工作进程，以达到更高的健壮性。

#### 1.5.3 与遗留系统和平共处

    Node来完成web端的开发，使得前段工程师在HTTP协议栈的两端能够高效灵活地开发，避免了Java繁琐的表达，另一方面，有利于Java
    作为后端接口和中间件，使其具有良好的稳定性。


#### 1.6 Node的使用者

    Node的主要使用者
    1.前后端编程语言环境统一，这类代表是雅虎，雅虎开放了Cocktail框架，
    2.Node带来的高性能I/O用于实时应用。腾讯将Node应用在长连接中，以提供实时功能，花瓣网、蘑菇街等公司通过socket.io
    实现实时通知的功能。
    3.并行I/O使得使用者可以更高效地体用分布式环境。阿里的NodeFox的ql.io都是借助Node并行I/O的能力，更高效地使用已有的数据。
    4.并行I/O,有效利用稳定接口提升web渲染能力。LinkedIn的移动版网站均是这种案例，摒弃同步等待式顺序请求，大胆采用并行I/O，
    加速数据的获取进而提升web的渲染速度
    5.云技术平台提供的Node支持。微软将Node引入Azure的开发中，阿里云，百度云纷纷在云服务器上提供Node应用托管服务，这类平台
    看重JavaScript带来的开发上的优势，以及低资源占有，高性能的特点。
    6.游戏开发领域，游戏领域对实时和并发有很高的要求，网页开源了pomelo实时框架，可以应用在游戏和高实时应用中
    7.工具类应用，过去依赖Java或其他语言构建的前段工具类应用，纷纷被一些前端工程师用Node重写，用前端熟悉的语言为前端构建熟悉
    的工具。
